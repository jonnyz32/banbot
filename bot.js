const { Client, GatewayIntentBits } = require('discord.js');
const express = require('express');
const app = express();


// Create a new Discord client with the specified intents
const client = new Client({ intents:[
    GatewayIntentBits.GuildMembers,
    GatewayIntentBits.GuildMessages,
    GatewayIntentBits.Guilds,
    GatewayIntentBits.DirectMessages,
    GatewayIntentBits.MessageContent

] });

//redwood '1142509000378818690',
// Define a list of user IDs to ban
const bannedWords = ["bettermint", "scam", "scamming", "mint"]
const bannedUserIDs = ['1143055255639183370', '730480523314724874','1110322965452689448','947963729113382933','984520203524272129','831038395294941185','774465756841902090','1103008184920191036','1110577886592770068','756504275747864647','564673226278699028','995477553756258384','1064514329417887815','815071602785910794','783176171566399489','710455976943288412','759390626285355059','248895342630797313','1095366236306681919','662841213132603413','1087567107048341554','820971266918973480','710573556013989888','237982115587817473','786829953366753310','860155865951895572','87266333443497984','714992461444939797','914630246567923723','129052551147552768','709373917340500008','732603229300326431','908405076148776980','1000863587516022844','270694196128645122','241795871904104448','903600364417347584','1056157167679443014','307864904474427393','346046595252355072','975971292656324619','847809791475580928','754501467620245659','845596037049483264','798974558186766336','702248258948300833','801353076488929301','727765671903101011','756879398367526926','804092352280526868','707580195703619626','1032479383966978058','1099535006843535400','400282187708104704','442710003023872013','821806811496972399','348934147860856834','598390900758151181','1094187040188399667','590873513645047808','607437574646005781','875620201142562837','113463044922728448','827820322706292736','984937529922973748','925391501431832597','832235654292439050','491523779973873664','855817215039635506','300097989647794177','725065005397180487','595209495039311872','479729181610082314','804251345863311412','1053520255047180358','927773073271296021','817466473450045470','1054625581217611776','1056768260319748209','321515244243517441','605393960617246732','644018142007263232','851483402246946877','654742808065998869','883743189809377312','471164323813654546','313425274081378328','923389620044046396','310419342401470464','687727823321825311','304254935564812289','517370366667259934','1003958561300303882','802610807015735307','770994090875420674','439370931396280331','155763826049024000','1066668444877074542','704350072262885417','1033639158368981022','527210866744098816','716047102605525093','715122795511676999','758877540005314611','692803203791585350','280015609201164299','978576820301627452','995143460963221504','979932103355539506','826042013401088013','574228042352689164','297388458509598722','1000128545898631178','548445659741683723','1007005470105542769','921099325365428225','1075140077484773417','572081704500723733','784338597914214440','444800668373483520','692497757017079939','398083271616888833','1137651796152700958','100294948766646272','727078612699840589','823219067975368764','949778956545044500','955723275051364372','571495228024946689','713518780566732961','756189935496855603','239241973783986178','527082635936268289','197137107389644800','613816870205915140','792937567694749716','762029448458666004','406526178787328013','823254593051033640','385684465688510465','563363379570540556','757890642515984444','260087989827272706','906789969492840478','384741254254297089','1043036509319741490','539009825997062145','954843951297351771','1121172934598336572','776546910147969084','999736048596816014','270904126974590976','155149108183695360','790967448111153153','550613223733329920','557628352828014614','1057043734526701589','748539706513424485','845726259380092959','896939471155650631','853375620696506388','775611157398290454','1107569049795305492','955721520364290059','823686868931444756','255078632655945728','293198212108517377','603233567706841088','592801819806269480','319519300211965953','1021369097306505287','832951773403676702','857322433128562719','286388611694329857','1017227599367385128','1011292736500023347','1082783676762427562','1098369539990900757','1141163770794754058','1069727217636093982','829175208719810561','790321279957598260','516532116033503234','674662478172389397','792134699359010856','840316576942391356','925506627543650375','852157504908689418','402297499575910400','485461070509637649','356630263725293578','843764600709185589','802747967048122368','989238427662827561','226534189762215936','842039629615595581','716588414010523689','940293070212177980','728507002657046598','375944215429120000','662624066225700867','514606365642326026','1126114797579145277','608326797905494016','1032324057875624107','805955586885812294','406885681277960212','795138474578804736','556034668340707331','773057933839040562','1065192998251548743','595733747232407552','267059769024577536','694094742027239424','1080943463073329307','652773695173165098','160417492030717952','847446522630897724','996679848120561774','999315920352714853','533798724523261968','390921822100783105','526746439804649492','854997435146305536','538057905845305347','849943857319772162','966639202374668348','1022160261320286323','1045429397836021852','1139598449201909820','942805171388436481','707495972518756392','852969486776008704','1017389108559093830','562432841007366145','1013167616212344833','1073378833874554900','686026687208751177','978371497666183188','1023024331632152606','704400162604450005','715209177773113375','1103000467476324526','379405477957861377','747230453395620001','1096911553875411055','1136479050655871008','1020035496803577990','327448659950305282','1137418363476377730','853658523786412063','818803984072572938','1017306008424566845','438489624005050368','970329699903496223','389969496640847872','334609333499199491','486373801811247114','1049281157050679386','1054590931975802880','1081334533321924730','289907756373114881','308266205305765889','776539081651126282','847703835328905266','707312942147960862','620084506073759754','594582636815581248','601516731697201168','629489115510865920','696854803690553344','841469661920100363','701913391052095490','780641601105297518','579810483826065444','771306215216250901','408789590342762498','301845982050648066','900470819589881917','711133689764904980','248556200864645121','1049574035303976981','889889835249180743','886317089076441099','774608244164657163','465228574350114817','500748907525963776','829711734679011338','1123359077536366703','1037207496869294120','1030888967358390333','851512212269957190','884947813744640020','953171681734705173','973094861404250172','1074910773224165490','792842038332358656','605460158587469835','560394193004920833','1045284374112899162','1140349999062995006','741312084884586579','643525387736842261','853363025582882836','955038541178609684','892565573689540659','1062360354593701959','445903357404512266','273874724319264768','539592215169859604','935682752454483998','704093792910966855','209234044553003009','762600375554539531','199011448096030720','762169050646183938','1066313321545990164','606690050440167424','1140261945056952371','279017941985656832','511240864274841611','1057472889839955999','765786082515615755','1139500619892265100','1118566031204548698','1132334565936070697','1129898932479213579','1129123705428135967','949148277671100447','1121893368469925959','956860621243183144','1097984861333098647','1069466441788706906','1052563050709913731','1003494632765784165','932235776253657098','954209991118688256','920183046609707039','779287782928547880','911306225508057130','880747487051268097','811506961098342461','775326794684432434','730420170979540992','759373619011780618','712789266358337619','740326271799525436','604386525165387786','527599199886377002','483285985531002890','592105417929261081','485364280628215808','562811389023092736','481825588609548294','496323871381651466','470502305641267204','467600433079386124','286335801825165313','268072875343216650','254133324384174080','265895990672883712','258527840528629760','211546779685093386','852671260755886150','1123417764867080333','454951875666640906','1139375253471105094','931954602859974697','321542442019192832','727637904284713052','297740258835955712','877169209140998164','845656861185409064','524555679998935040','1045732181764493434','1090086234493288488','548560222751293453','251683359787319296','409788877574766594','253814236524838920','707216846004158474','860924042789257246','990872912196141076','1138274899249594509','776869047244423208','892276200616099900','613780211565330453','811724564492058684','1138213817239752755','1133556381685927956','818102828144918558','1137191361867690114','871094652462305301','400346528813940746','288312661803008001','1053089293742133299','746426663038091315','927300143722672129','669718488356749313','1083871067786985546','1121402579876839535','809563302216073246','554532678993444881','761283805314940948','757851099569979472','747033005515866152','973665243685339177','615700476985606226','997297443576217680','1133808037191229560','248109494364536833','1080939492229263442','1107951823035322389','1114522822543417454','1135900713994702979','953714179372646460','239767115945607168','393275938328150037','1135858883475292160','721638239265620021','573345681687838741','701480669372612659','1094388461022224414','834767304788803664','753915769347375194','678879384505155584','786789040140976138','246812032396034049','626389629402087435','395567724010668042','1135275747083296949','1134809165257244683','739301556805042207','909143747651043358','1134802949315493978','905591902332678185','1071955922101993553','953778131817349170','707385230771617862','887683255711719425','689135657997959215','699644981157167114','354986937347604481','1132247447033360404','1134412167043620894','1111973120807546950','1132477754504392724','1116172463206826075','973391157407141950','852847320722178058','1064583562969485443','1134042179745103933','1012038901914947634','1133844275310886932','431888207836217355','950222109655846942','456226577798135808','712131258410598411','815174411581784064','919946841448136744','1052718899789050057','694555011237281812','701723276384141335','696393454321926165','878450133103169559','1133482087882690571','788498123399102464','915181264393342988','1018170985607864431','416130085557370881','982359653377785936','852942175688065065','1007443865915113494','672529775537160203','1068929657002537050','348896926873419778','1120194564020510770','930567891802280077','1132975184832376912','1132976342175072306','650376855542693914','928128131997503529','708963765386739763','699954666930176001','708026243836149830','834200900909662228','1009917218764624003','1071009812298596392','1132369719953985687','911543556550819850','1132329012778250251','105753872206684160','454448688895492106','921421405709557780','1043216203059048450','1077820535624445972','905790285240492053','515476150969958421','1101104465186140170','390724076290834433','838014784431194134','885621624290811944','1111518738500567100','679038415576104971','999684086236971008','834478657803517994','945053453279981659','1122346858983981186','1132236133330321449','634400976706469910','516083221839085568','709852529608884246','821628054215983104','663984568814272514','1066120282722537542','1132122010005291029','1019022166324420730','547138762925277184','645285018243170308','1132059459800272996','1057993091103080448','716390393364611143','957951349771878420','739113170832064613','794002780926378014','456480201203777536','748691880732000389','300627726102953984','1041732503838412832','1131557407538020463','1131640064057802782','1129499557705826414','957196944927752192','1115664096180846683','912419807691939901','891711441437073440','667051514409517096','511653567040323603','460137877028732958','791866162475696129','825106419333857312','1063487573701447792','536221832668381195','1129910911298175076','703313745161617480','1058842260051071039','1096492176495624252','929152255289065474','884037294330376242','440108373954920448','269986242915991554','984823442891223071','1130890405345505381','279373976982126592','182202601385885697','158228699232206848','768928981591392286','997158584876019732','905009032283168768','632478272403406868','1042136614203310093','744868413884858480','530849475594551302','1130440956823474236','1019707018841440336','1086948421098819654','822869925865586719','1110906047331311658','914443320506331136','1129494930226688144','994250709908336662','619753374128144386','882614250219143239','224963923802193921','726211765293023322','1104488888657006735','566784024723324948','846759945834987520','538851142352764928','664244731265417245','1113898403726901258','457588233287761921','1014225853611253812','761824233508175883','579682915231727616','1087936734832099460','439364924402171916','1128652666801766430','486310420685258763','1128426786699608176','617817458761531403','833683419979317279','187706217156706305','981163785878380586','1030790757575053422','692789059323560017','972075981546323979','1001596595437052036','293142679989256192','1001389070838136885','1077232165537976381','1071507359580553246','830657656582307841','279517216100188162','701931373681836093','1127519764676349992','350858391519756298','700385870435319950','1100838828027158571','832999154774048780','523834900382482442','399574059890769930','890962833204977746','787683827551961108','1117133152670994442','617450019519332418','679988126353326107','1001935485603680257','816311260635201620','1054426844427993140','819613958591742004','821508086711713792','416302252743983113','694117915019968583','1110357925207228448','1126906693838700544','791302224751886346','1067558275513585787','526486903726538752','575138278748061708','1099051628981657732','687641015263297581','727292013547880498','1126679514630602774','1126579767605465128','838644203806392330','1005204087068958860','1045988512064884756','1066926442081959976','940036675650879488','852337273831161876','1043950026700898304','694886939375173723','386334683530788864','976384610055368735','622268813974437921','753018169140052010','219259128789336064','1013144923056377866','534743606976577547','492158844462563339','959166423811375144','1037965398047473745','365860699983052810','1076927617858547713','991932017316995093','456510589506682892','427535701626847252','998002220840787988','769570507854184507','967980214875488256','959890929404215306','1116429667205927012','1074815899414044672','849701644382765077','1125020459549851728','1092185115259576392','1125040707204296756','1121029658897559613','1121583307377885215','551862562304688148','1034921054667276288','451331070151884810','1118156296034730065','955687828510101504','701838464525795359','687995270868631592','1124659677041524846','665172296343748668','767338222460076063','753952690891128842','550323188991787010','798495826166808576','865438752830652426','1063347219043975238','796296592381444117','1105886853254619136','526874865584832512','321639210975232010','643185636185997327','780432550606798848','1006153544480608307','1033133686490669188','915481558192885792','994984663561023560','1123589101409542214','627932993805221919','1122615400836894751','837781395811991623','348571562703585281','1068854703334633522','628586852626071603','1020407151308578949','812259736505286678','1103996105890467942','879100105012183050','1088172059093377064','746172085159591997','899454189699235860','932657421627834409','715847827401736204','862490345841360896','379122217423863808','994894427162161202','942103882249687090','800448969556754503','691933885495509003','935846651791306782','1030154017394921573','1122476974317785118','1088418959327498331','1088837096703262750','977826186342326342','955585571642814545','1083355320761471016','464227407755214849','945011238834937857','930563610005090324','689452291295936565','507188798904598528','988191695453696010','775821739883364355','1060214100803715134','717863644288778383','754039991587307520','965266415898755112','1071451982826573865','1065061332925284432','1121172883918553218','461314530438545418','358896688162930699','754897049169821822','850076684970491994','731989316187717773','573976232790720520','878922565123461130','748590965370912798','1001540043963383838','551297364019773442','695936110739849246','1059517172319277096','701475129024315403','1118965274683637821','504241953089781771','892734389002317875','1068826507453136967','1091767893273886883','751290982779322430','876121052781117440','747616780226265178','632786607187034134','1030370628253007892','1090311018669953084','827437519095726080','992769461696335973','1049070698670342204','750084815830646836','764076999614136360','629866523577548810','1120731701002375309','541426538399399977','397902538441097216','1109617699497181184','706590246141427784','773520474751762444','985552593986154506','1120030781104992327','1088933422283640833','1120103918358233230','779028388739809291','387323199588794368','957029339399061535','1095121114927218860','1120399958034616360','391176439900143617','467587459400728576','1120243074493325422','140271536631316481','689355845879988307','1103575326140940338','852584517780373514','1004461989378138133','578478752301056013','1104897937605148732','346136592714432513','1118373565109108796','1119803434196029512','987866939240091708','600372635427143703','222796095745556480','1117678716022169601','835802494860525569','853293894069911562','816410106718715915','417452773798576128','852151037557211147','1105168337002053745','921718729862152282','523269564646162436','948778190422294608','754880467240747141','348029960184791040','796140509466460228','432626256278716416','628028167440957491','322194313478012928','147803574691299328','226872481141489664','662940118155395075','984637475718836224','1114141406622134312','765829429414199308','1016992663007940609','509746226145787946','906754648692641862','795170088432697365','807164601489555496','771134365819338815','1030314649964511294','528526932824817686','1117838857539436605','971235739494920282','702490358440788089','1034491056999379015','1019078429058019379','1118302806412099628','640500039168294935','639503279180480562','852667836916039731','1090237015901077544','969769143031181382','970543409288839190','975506260759830548','512743248372957194','737318436178362480','987812143728590968','370042696170995712','1115697629486137355','379525900343050242','446399668763754506','594154282920443923','1063095571361050674','979839236683468850','1094799730829181028','1058844068349739038','818563551664799874','855432385625325588','827165188087218248','294834982751436801','797568186157367337','841939877829541930','436089604236509184','277257365445672960','919654205269086249','821708659188695051','754572281551781920','824240749671088128','1072325514766860330','962436962470461442','711312051028492328','988024483992469565','786315382222356481','313684772108894209','1049646247771901963','925477674669977691','359308206411087877','1080320322059898981','1009583249401598072','1088315553023791146','985648764968652810','1063325041145675776','683693521244520537','783892307970752534','172823848931164162','924338978797256744','861409343509102592','665148219692417039','1057359757301796874','355273172267827200','904416806918320159','753671467794694186','275381645266255874','1065296795409858740','856547719559512084','522405926527827988','1076888843279663165','549971508479393793','540934987889901588','1110350249043701811','824752297527345152','237971922623660036','821039612541009942','1074700158178185276','1109683161597755482','1103026924118356070','1094702830406860840','510198397425418260','519308755083591680','348541071057223692','1109068671323742268','954798126705815642','729714228117635103','985762645296709702','973652169934913547','319343331354345472','965587599253184522','920491713175363684','1066960026067009627','860080465410261013','217234671724003328','1007497751023599627','858292478507876353','975452741814071309','1108722547526213804','1053246015840473128','934787907573665813','470139562568581122','831401618217500673','902112149462216724','832502356771733533','892014888686354443','373710358768123905','837459115185930271','710208780792496209','502889793919778816','988377168595808256','999898626140672040','1077668539592355840','824800324089937920','521193255086587916','636981396887437332','1063543028628865114','765552840524431360','957373561465614368','913526862020476958','883469949618778132','780746502255411230','691334390625730593','785351163003404319','587221784047386635','914582378104619008','606522922240180249','296586582624829441','1022616004305637526','879053478834622534','1082847615865077800','853995220358135818','1097387828125651044','1076899415962419242','916831844195000420','536274717426974720','844533733243224074','935707169716863028','655357844379402241','906758432005160961','989811946066968596','1097445475440939009','579112288938622977','728333097027895326','329073002581065729','918547372047495188','819088674217787452','670946469171298307','502901732875960335','459900427992039424','1045893080819171378','760348971775819788','895651145547145286','462257541796069386','898744022917603400','1089725169167253604','633340215641112606','879808456217989173','1092865816199974952','921447035264204822','679130736846045208','1093836824457252874','1077786388403068928','985785761494339584','1060929500935889027','875352980164079638','708497990536396930','784518699599003658','804914589363601448','1089621075958186215','401465937251008513','910993275530391572','766606206458265601','624292622214758431','1071366017139363850','760556695084072972','427040730486407176','616612304762437633','1050433345324060763','786920699088076820','885390898089828382','826202969745391658','1096629275874054265','524281889326891008','885091314771841034','710908104610676758','995821864519749752','721517527062020106','1087674609215754271','854415486859477013','616942052848041990','887762004490727506','1040055882492432404','711812646088736798','724708514265825360','440249946030211082','548575236140957726','659035481937412097','590400302063288321','779776600459575296','894720609660043294','581186830133755910','932884015323701308','497454359936892959','1033916676619644988','833283681820475392','264011215993307136','198297524262535168','1066487754592100412','735875729744723979','1066405808902000682','341745609797140480','983794364356657254','468022509791346718','775977035977588746','785168156908847134','1073899925408063609','593264044488785931','1038945426742722651','1015824319428960306','1059614915456938084','763442637733625907','976496606075564032','902503045710118942','691930201944489997','559702490027917322','552829998910930955','1103392141163630652','1064882165583728671','563304045641465900','1008613590074404886','1104932772277133352','778642013650288641','617093935088664578','750517010248630344','765994431127355472','759130530964308038','837814601809920061','909968254146076752','802736825617743924','770655522558705694','702561231491432468','1066847313848451173','1094338111355502733','831247290223296572','971688494349037626','1035851497042362388','775658593973960704','785587374918074418','252785324177096705','1058171031694610442','535600759220338688','1005460113324249149','805816060582297611','551137017468027015','975755587818225675','882992636565286912','897527457077395507','650742287277490178','405424256592248833','718953749598699594','880248566298325025','366419209686876170','732505453556138004','921417364195667968','234652223798247425','878692955613974579','1083123986835185694','889046727104016384','1104377321269510174','387871429607161856','929474054669336628','1046038081645592686','872589666812059700','960850637527080991','688585585774034995','767673196613730314','926160938208493578','777327094576447488','1097927675122823288','855504810396090378','1017786634395205694','291333550169522176','452140198038470666','367124367387131914','861596693794258954','1020065925560545360','734930493501341716','894215319357370389','733242538349166593','274518524666314752','645703335789461514','1089231689336762438','844230074698039306','917097704428040254','1080992507426512930','783246525299163136','460904046966865931','793818326761472000','940710272635650122','821170112920682497','1082525441862156288','967572495500714035','277157009495949312','736116236529958914','673603072395837450','673523369710190635','1009701416543191081','748869333219934228','717047382952640603','965292910201421864','856596989558652949','879489740938825738','729633378646884362','944942245814087781','567040305690443778','471905633042694144','1080966241264615496','1040653716488986624','620652126401462303','956141630207963146','688353511678672917','1065107243894308905','282228370756993024','500011774737907722','910535529064456242','314095339931959296','914150883409948683','847195106418098189','928366377776054342','1043388554321080331','168058554123681793','762696730855866370','1103566579284856843','1035699847648522341','1090210753308528740','1093964686615134218','1066070331384668251','919302792638767134','1045855314056069211','833056356957028432','392735502836563980','277177653986066432','860973343669878794','416999611786592279','747277116097298543','701356447229018164','1018504791548248154','1103135780681039882','973665732833476638','748103513267109990','1093232181201096824','198204792026169344','1102850952198881321','362121681193402371','803630741241593897','804076134429884426','455286015532466199','810058717411541013','1096048651412963329','825214468795400192','718864928609402910','1100116993635536938','755725893405769739','955625538624561182','753741838506000494','1085622622349447199','505430655748800513','552205278779670528','256172981435367434','1079503066241433650','1006602889105514586','695605472803160122','589740095091900427','789036760662540309','680907628712427540','829595428315070464','363974953340502016','929818717007794177','762723966677680160','135900853688074241','625034332615999498','974269104636694548','1102292248433000448','841851864429625404','1043960887393919099','422020901534564355','1093211680772735107','811049215798673428','824848013222084609','611820856204722177','1089237021534470318','862626019851894794','838673764756881449','342191129841631234','1010752571129987074','534343556786028546','1041593349372645416','365844177306517516','178892337487806465','962539051850817556','860922020299800596','916804093039747114','933445531538169946','1058144617196957816','874586679573364747','631821368521916466','310553545940402196','486641007048523787','1101847046018834494','421213079406379015','864451956235304980','961535312251723826','708277723126038548','1068625979704082502','492970834621759488','755588008719155271','915671054679154699','962442428617478174','950421018554544250','615840814656126979','852612708556734504','899876062496948246','1092977299458109511','1069299533034569879','857093419175772180','981948913105903666','305138602856415232','421950208159645710','478223306835886081','1082253550534533170','881362751656702042','946035814826139681','856738310025510912','706121723753267250','398883077591400450','528279248486662167','1073252666907574353','421966387796246539','983079373798277230','853322270410932254','1075997654720462988','725645469241573458','741019271622164641','345620858624016384','971504675079729154','1056746203326464040','955338022176583731','371427018731945987','811187646986059827','741992400276291584','935299710116323349','883413587673108572','1095811814291415082','709189461828960344','902985589069078580','1100917105211228274','796124262292783114','874045112483717191','656930524270690324','745078735686074379','730769559153410111','564124337746083850','737429079824793601','1079444644670222366','245273178212007936','725664578448523358','1084516815956348979','740587964723232768','808707566150090753','602262832423239696','958078488613629992','1089926044485697587','774645842137055262','793308240573235220','1059025571163676692','951109856067198999','942809586598043658','922358022934786058','1100123999322788030','910868618298941480','1069345150070951978','595187898480066600','1022623279619518464','712024097525334066','864582196392362044','419816274907103243','988620650820272199','776116359850360833','462200342285910027','476827306070114307','961117301103525889','705007314469519380','454693274725384193','623914936091017226','725843718309019648','402006738816991232','1099825515231199275','778995969223819264','1089621289074966619','599407854952120351','520947617954267157','1022185604164890634','1099712919421321246','953894031761489920','980060001785761822','1059803760936894545','1041788253692514364','985661874873970758','1002531119129964595','851907792209838102','957626738236612650','924303434134458378','850064993378369548','859719038611882045','1053269963634384959','298874164683603979','1069396539253985360','751464239062843542','433998514272600064','860728368080879626','752282043546599485','1027782089535410176','760920968482390077','582046729227075594','257175017425469441','758482262760882187','573950888721514523','1044644460589494293','554974545916723230','869353128250728468','845839008286507028','1093589869906903080','729583325475373086','1014779806900027422','1030116217786216460','917745215132008448','967447454041649172','706274962876399616','958900956651724872','999276485598777425','476694509787283456','1048073231703220336','314230903872421889','1099159083728244747','843330885561745429','1060237595516342303','442407991640064040','326123547833532416','955030939719848036','702841829246369882','899167418570641408','1078426828089331802','704455681742340148','918946087778263050','800150327134781472','951183831271104513','254363931080916994','997644636069834752','786579583406571520','659556865482555392','924686487474290709','756639685933006970','897412008658477056','904733583535657001','404716269766443019','431076395993530369','908811498288205866','1099156909786943498','783026872749391954','282352112669687808','722146211200630985','908703438244814858','1068337243862863893','738058421407973446','985607208836399254','492312802522955776','984133464443990047','1094591768139419678','747387793894015016','399162403734159374','952300673205157908','905903932050645023','638335496174698496','860086177872740372','957142640443392043','1026936821491445821','1012654500483440650','877597970663624715','874229910275768350','360874321821958145','532692070830440448','1098851649214238843','536934837555036161','1055456618826973184','398787632101851137','713358060764004376','533991013836914709','1098790284231454761','582391478182084619','776141572114481173','389074834648334336','1091721020437712896','736576284888662041','1082310282388455464','1066238175422447676','1065523989449035796','763591832965480468','470381846350266369','804964140393037824','1075306784882966618','904449928007397476','725586324714946561','855421626375077898','1090150522960498760','444189443587440642','750264963247112195','1082830549300818020','1040108747621679105','511209271678074891','929083877144809524','777831981392068679','406815582600822785','1027964226544869507','908562346002231296','402497730003468298','330277259896422411','594903971911696395','204911301674139649','872261966096400437','1017043839640424458','200468686769750017','984949329888419891','495035221960556544','354953771219943434','478684454924320772','364869490812518410','1016848549075488778','994593624098611254','663601738745380881','927116669652983878','1028600924974874655','1057667618913390622','941311759141203978','963273454482767942','902568536378081291','1092069729457410098','1036147691090100234','753192249822543922','777736121647366204','595219643816345601','306759553121517568','424537765724815370','1040380942717562890','310903139387703306','1038532502651928596','856157420233424946','481680821116207106','760585289767977031','825567105071185960','328168477934354432','998762137721770025','395295454872469504','576668293587402776','592536526122909697','114518262569500675','530139919759310898','1089247436930830519','479619020132450304','328106113872429056','820338230301163532','980857352993538119','889565482238226433','1086361017065410640','945685137964802068','1059859015309479987','894759101962289173','988358796952862780','727810119122944020','213529182951571456','756581326060126254','1093788294250233886','940320176644190278','531620325323046963','532196782919385089','774951230774575115','1058090833154412686','852042654199447584','501600065048281089','701430348801900544','924509880486862848','726056747852234792','1081452170244792420','484148803344269312','520195661589774336','917400529083174943','643479143035437076','1091107072369774693','882681765028831243','1040568052812623872','209483716693721089','1084912435418370068','784126147259924532','543734440891908101','931166723451781170','1069624596149571614','409719267039379466','823215705620611193','897539914864951306','707331991443603556','1090366483277828126','934620801561419796','842707393753514014','1067127980339503154','129304901011505152','1011443709411340418','647437030032408586','1049265977570906132','1040522622900895774','705867098890436689','1084254159999602741','942787414194286672','914627654580338749','1074359111518527508','1077805753701765151','625358052346036224','944684649295282186','1005889019642658838','745878328975818844','547006501760401408','1078556950985449522','1089310843436535960','690193724327592048','937152336596459541','771729678796062750','587896170416963584','730483463815299092','816873263161540628','1077763773714157680','406800355242934283','1046651535809060864','599197894808961034','830984363092344862','593421997783121940','1001842116302999592','853345678457831454','930286969865519116','484149848766021652','883309138103398462','831256490853269574','1022667298521239632','1040855868775874620','1086373848078897262','920356480878788708','712183300969726042','846299920465002496','975922409540554793','807164568937562112','1090552620667641977','757647819980144792','1097549925312634970','880294684012998656','1077770015941595136','1096480548077183077','1088019948879745056','1092011025248821278','428470750068998145','950971106641195039','1040992213976481942','925030413959847996','424284391204716546','875870221917892648','1091621180013805589','564448013892976650','1091730784219562155','993621759842594918','761698252110037002','869214510169350195','894226983419011073','791009929997582429','794316135096516640','682917439557992489','1033427991688118444','1074002903041327195','1027269278359101563','951962392013701180','942323710428327997','909763438773940254','843137045589262386','657074504127873024','662166028637175811','1086054926926491709','1094629128050835558','1097332012018302986','863446342692634634','1046817153606766682','816035065146245170','762739815421706260','942799842848170014','1082959948406870076','894734366373187644','738045981605625919','985997086057181184','849000155402731531','815208768006127617','1079139218237968384','883327532424912946','1087238427319214141','765911047759855656','991178730124873800','333965668531568642','1096429856364966000','788932655159705650','1043022851730587678','954228672452259910','721230953175056467','455093048355979286','1079809712876433448','1017172467497840682','878102772489281567','803635278580678696','495604758053257227','393787593575366658','535274163993051143','682040840859680829','1043129334451413002','1049027920829628508','587403746653241535','628594180423417877','912115187400736788','876379306207637544','627562655795904515','765136338558517258','727594545503666266','702020852228685874','937760981399007233','791743857477419028','594813553530109952','882151442981466112','931616114474106922','550760191403229216','836658101686894622','857253782261071912','877416208654303232','985971358859145226','914486927036665887','302247300376428547','1056809996693807144','1007715567693725706','876181058046017606','805864745017147403','990036283000782898','733250922716594217','1027862706520334396','855472045566984222','868753901577437216','1091618739553833001','836958481092575232','930528619841855600','875161169822875710','767118445409468427','843355396604428298','835582057437593610','1022982233457426523','1049092619965321276','989833913578967090','1054394355076579379','358651514971226112','972211269685882940','856364281926123531','458313481892921346','713438102819045506','415701177309593601','1068906656907403386','776863713713979472','1006031322524962876','988784468661780480','684739803937505310','236318648548065289','1016512267656904714','852669331330170887','1071200359877447862','356539765807644692','1046586441859350549','546734578908528641','779950856421376021','789469927462404096','754764402464391198','1094311065594105926','480783538568953876','796264526155874324','921007797917876294','1037787020455587840','1091823300050694164','938109023197233265','687883715451551745','1066088173190512772','803409294405402634','819587757373653023','965613555548319865','935495644611756052','935071907450093589','1040397128759005274','1095113797510897685','997243666399764501','707625084986064917','1094641204790042655','246870471512031242','882594972547842048','1096118677302157352','1089147953056325642','814174994296864868','949357948151431270','885587731344920666','1098136339393806347','693626219975016448','838408512907247617','842014651054030858','998054201831718962','801062659948675082','1092244044236738600','1091882799025356800','319501313438253079','351728123345240064','689042669036765194','1091968127723638805','1027935526994579517','999658497702645823','932090779319554048','555969013528920065','702864345633128489','703337722235977838','811045202264981514','1053153914456903812','361260950327918594','1087241972319797248','976154847780941855','411209081735610368','998871811427160084','533724575343837184','1046036536036171806','264782335776522241','925301727723397120','1086036208351715449','630190685995270144','654435156609859592','939393052898918410','704937187505995847','664029642319200259','884703244209762315','973634408064098394','1097287430601711667','282502657824915456','1026321054450331739','961974324871458856','1075506652238856224','455615659192352790','707730327216455701','753830742966009916','418161177575555073','1096957248066027560','895531527268630559','706410775488757820','1096748341330706472','792071607878549505','670187610827915265','903762417719324722','798175418103496715','202025663996231680','1074075585648795750','1004368522811560056','624681056225984524','1093150651279745115','926162230469341187','670913482178166806','922023558182498365','1065140832396656700','975823934555574333','1059003932954873896','770283636901019718','690526437060378684','665716134481362969','725176357386190939','412938111404867594','603812877090160640','852425075491995649','1092423953894609016','793364004499750933','508333753005899778','1041172525717147809','1038511965129146378','1081973074490036225','791156762626752542','1062613978716577822','765140378696679444','790972796456009728','934800324630294568','1143054038657663036','1116622094395002930','1068519199548383292','1098172440657526844','853313819736014869','1142765428150640741','472770512670425118','1122429524248891424','151043821252247552','965455149671796786','804948305426513932','611961075616710677','789279692892667924','315439611348254722','618756203690065921','1072204625467416611','339893966503804928','1141555076738064386','1141178550460895342','633565743103082527','1142189220006477985','707041844248313966','1128768457966620733','935954850561286164','727466694942916670','863116033077674005','819115785535881247','482471035904458753','610654071107354645','1140725699896950804']

client.on('ready', () => {
  console.log(`Logged in as ${client.user.tag}`);
  
  // Get the server (guild) by its ID

//   const guildId = '1142662745171447818'; // Test server id
  const guildId = '1092076767692472410' // chessaid serverid
  const guild = client.guilds.cache.get(guildId);

  if (!guild) {
    console.error('Guild not found.');
    return;
  }

  // Iterate through server members
  guild.members.fetch().then((members) => {
    members.forEach((member) => {
        // console.log("current member: ", member.displayName)
      if (bannedUserIDs.includes(member.user.id)) {
        // Ban the member
        member.ban({ reason: '' })
          .then(() => {
            console.log(`Banned user: ${member.user.tag}`);
          })
          .catch((error) => {
            console.error(`Error banning user ${member.user.tag}: ${error.message}`);
          });
      }
    });
  });
});

const deleteMessages = (message, bannedUser) => {
    message.channel.messages.fetch({ limit: 100 })
    .then((messages) => {
      // Filter messages sent by the banned user
      const userMessages = messages.filter((msg) => msg.author.id === bannedUser.user.id);

      // Delete the user's messages
      userMessages.forEach((msg) => {
        msg.delete()
          .catch((error) => {
            console.error('Error deleting message:', error);
          });
      })
  })
    
}

client.on('guildMemberAdd', (member) => {
    console.log("joined user id is", member.user.id)
  if (bannedUserIDs.includes(member.user.id)) {
    // Ban the user if their ID is in the banned list
    member.ban()
      .then(() => {
        console.log(`User with ID ${member.user.id} has been banned.`);
      })
      .catch((error) => {
        console.error(error);
      });
  }
});

client.on('messageCreate', (message) => {
    // Check if the message contains the banned word (case-insensitive)
    const content = message.content.toLowerCase();
    console.log("content", content)

    for (const word of bannedWords){
        if(content.indexOf(word) !== -1){
            console.log("banning for ", word)
            message.member.ban()
            .then((bannedUser) => {
              console.log(`Banned user: ${bannedUser.user.tag}`);
              deleteMessages(message, bannedUser)
        })
            .catch((error) => {
              console.error('Error banning user:', error);
            });
        }
    }

    // Check if the message has file attachments
  if (message.attachments.size > 0) {
    // Iterate through the attachments
    for (const attachment of message.attachments.values()) {
      // Check if the attachment is a ZIP file based on its MIME type or file extension
      if (
        attachment.contentType === 'application/zip' ||
        attachment.name.endsWith('.zip') ||
        attachment.contentType === 'application/javascript' ||  // JavaScript file
        attachment.contentType === 'text/html' ||  // HTML file
        attachment.contentType === 'text/css' ||   // CSS file
        attachment.contentType === 'application/json' ||  // JSON file
        attachment.name.endsWith('.zip') ||          // ZIP file
        attachment.name.endsWith('.js') ||           // JavaScript file
        attachment.name.endsWith('.html') ||         // HTML file
        attachment.name.endsWith('.css') ||          // CSS file
        attachment.name.endsWith('.json')           
      ) {
        console.log("Banning attachment", attachment.name)
        // Ban the user who sent the message
        message.member.ban()
          .then((bannedUser) => {
            console.log(`Banned user: ${bannedUser.user.tag}`);
            deleteMessages(message, bannedUser)
          })
          .catch((error) => {
            console.error('Error banning user:', error);
          });
      }
    }
}

  });

const token = 'MTE0MjY1Nzc0MDEyOTQ1NjE4OQ.GU1GIs.RM-EgQLChDGHW6zqLkiDPYbKgPnnNRAmgghdSM';
client.login(token);
const PORT = process.env.PORT || 3300; // Use Heroku's assigned port or a default port

  app.listen(PORT, () => {
    console.log(`Listening on port ${PORT}`);
  });